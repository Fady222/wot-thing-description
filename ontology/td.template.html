<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <title>Thing Description (TD) Ontology</title>
    <script src='https://www.w3.org/Tools/respec/respec-w3c-common' class='remove'></script>
    <script class='remove'>
        var respecConfig = {
            specStatus: "ED",
            editors: [{
                name: "Victor Charpenay"
            }, {
                name: "Maxime Lefrançois"
            }, {
                name: "María Poveda Villalón"
            }],
            edDraftURI: "http://www.w3.org/2019/wot/td",
            shortName: "wot-td-ontology"
        };
    </script>
    <style>
        .azlist {
            margin-top: 10pt;
            padding: 5px;
            border: 1px solid #e3dcf2;
        }

        .specterm {
            background: #c7eae5;
            padding-left: 1.5em;
            padding-right: 1.5em;
            padding-top: 0.1ex;
            padding-bottom: 0.1ex;
            margin-top: 1em;
        }

        .specterm h4, .specterm h5, .specterm h6 {
            margin-top: 1em;
            margin-bottom: 1em;
        }

        .specterm table {
            width: 100%;
            margin-top: 0.5em;
            margin-bottom: 0.5em;
            border-collapse: collapse;
        }

        .specterm th, .specterm td {
            padding: 10px;
            border: 1px solid #ddd;
        }

        pre.split-example {
            box-shadow: 5px 5px #0002;
            border: 1px solid #e0cb5299;
        }
    </style>
</head>

<body>
    <section id='abstract'>
        <p>
            Defined as a companion to the Thing Description model.
            Can be used for alignment with other vocabularies, e.g. to provide
            indications on the affordances exposed by devices of a certain type. 
        </p>
    </section>
    <section id='sotd'>
        <p>
            Validation of the document by the Working Group is expected by the end of June 2019.
        </p>
    </section>
    <section>
        <h2>Introduction</h2>
    </section>

    {axioms}

    <section>
        <h2>Alignments</h2>

        <section>
            <h3>SOSA &amp; SSN</h3>

            <table class="def">
                <thead>
                    <tr>
                        <th>If</th>
                        <th>Then</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
<pre class="nohighlight">
?thing a td:Thing .
</pre>
                        </td>
                        <td>
<pre class="nohighlight">
?thing a [
    a owl:Class ;
    owl:unionOf (
        ssn:System
        sosa:Platform
        sosa:FeatureOfInterest
    )
] .
</pre>
                        </td>
                    </tr>
                    <tr>
                        <td>
<pre class="nohighlight">
?a a td:PropertyAffordance ;
   td:hasForm ?form .
?form hyperm:forOperationType
    "readproperty" .
</pre>
                        </td>
                        <td>
<pre class="nohighlight">
?a a [
    a owl:Restriction ;
    owl:onProperty ssn:forProperty ;
    owl:someValuesFrom ssn:ObservableProperty
] .
</pre>
                        </td>
                    </tr>
                    <tr>
                        <td>
<pre class="nohighlight">
?a a td:PropertyAffordance ;
   td:hasForm ?form .
?form hyperm:forOperationType
    "writeproperty" .
</pre>
                        </td>
                        <td>
<pre class="nohighlight">
?a a [
    a owl:Restriction ;
    owl:onProperty ssn:forProperty ;
    owl:someValuesFrom ssn:ActuatableProperty
] .
</pre>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section>
            <h3>SAREF &amp; Extensions</h3>

            <table class="def">
                <thead>
                    <tr>
                        <th>If</th>
                        <th>Then</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
<pre class="nohighlight">
?thing td:hasInteractionAffordance ?a .
?a td:hasForm ?form .
</pre>
                        </td>
                        <td>
<pre class="nohighlight">
?form a saref:Command .
</pre>
                        </td>
                    </tr>
                    <tr>
                        <td>
<pre class="nohighlight">
?device a saref:Device ;
        saref:offers ?service .
</pre>
                        </td>
                        <td>
<pre class="nohighlight">
?device a td:Thing .
</pre>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section>
            <h3>Schema.org</h3>

            <table class="def">
                <thead>
                    <tr>
                        <th>If</th>
                        <th>Then</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
<pre class="nohighlight">
?a a td:InteractionAffordance .
</pre>
                        </td>
                        <td>
<pre class="nohighlight">
?a a schema:Action ;
   schema:actionStatus
       schema:PotentialActionStatus .
</pre>
                        </td>
                    </tr>
                    <tr>
                        <td>
<pre class="nohighlight">
?thing td:hasInteractionAffordance ?a .
</pre>
                        </td>
                        <td>
<pre class="nohighlight">
?thing schema:potentialAction ?a .
</pre>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>
    </section>
    
    <section>
        <h2>Usage Examples</h2>

        <section>
            <h3>Merging Thing Descriptions</h3>

<aside class="example" title="Merging of two TD documents and a logical map of a building">
<pre class="split-example">
{
    "@context": "https://www.w3.org/2019/wot/td/v1",
    "id": "urn:epc:id:sgtin:900100.0003456.1234567",
    "@type": "https://w3id.org/saref#HVAC",
    "properties": {
        "status": {
            "type": "boolean",
            "forms": [...]
        }
    }
}
</pre>
<pre class="split-example">
{
    "@context": "https://www.w3.org/2019/wot/td/v1",
    "id": "urn:epc:id:sgtin:900200.1234000.9876543",
    "@type": "https://w3id.org/saref#TemperatureSensor",
    "properties": {
        "temperature": {
            "type": "number",
            "forms": [...]
        }
    }
}
</pre>
<pre class="split-example">
{
    "@context": {
        "bot": "https://w3id.org/bot#",
        "brick": "https://brickschema.org/schema/1.0.3/BrickFrame#"
    },
    "@graph": [
        {
            "@id": "tag:room_101",
            "@type": "bot:Space",
            "bot:containsElement": {
                "@id": "urn:epc:id:sgtin:900200.1234000.9876543"
            }
        },
        {
            "@id": "urn:epc:id:sgtin:900100.0003456.1234567",
            "brick:feeds": {
                "@id": "tag:room_101"
            }
        }
    ]
}
</pre>
</aside>
        </section>

        <section>
            <h3>Internal State of a Thing</h3>

            <p>
                Affordances relate to specific parts of a state (defined in SOSA/SAREF)
            </p>

            <p>
                Choose to follow different affordances for the same result
                (writeproperty/invokeaction or observeproperty/subscribeevent)
            </p>
        </section>

        <section>
            <h3>Specifying Affordances by Device Classes</h3>

<aside class="example" title="OWL axiom for affordances provided by a temperature sensor">
<pre>
@prefix rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix owl: &lt;http://www.w3.org/2002/07/owl#&gt; .
@prefix saref: &lt;https://w3id.org/saref#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix ex: &lt;http://example.org/&gt; .
@prefix ssn: &lt;http://www.w3.org/ns/ssn/&gt; .

saref:TemperatureSensor rdfs:subClassOf [
        a owl:Restriction ;
        owl:onProperty td:hasPropertyAffordance ;
        owl:someValuesFrom ex:TemperatureAffordance
    ] .

ex:TemperatureAffordance rdfs:subClassOf [
        a owl:Restriction ;
        owl:onProperty ssn:forProperty ;
        owl:someValuesFrom saref:Temperature
    ] .
</pre>
</aside>
        </section>
    </section>
</body>

</html>